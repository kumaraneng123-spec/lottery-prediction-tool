<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lottery Pattern Analyzer</title>
    <link rel="stylesheet" href="styles.css">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        let lotteryData = [];

        const PATTERN_GROUPS = [
            [0, 4, 8, 5, 8],
            [1, 3, 5],
            [5, 7, 9],
            [0, 2, 6, 8]
        ];

        // Helper function to check if a sequence matches a pattern (forward or reverse)
        const checkPatternMatch = (sequence, pattern) => {
            if (sequence.length < 3) return { matched: false };

            // Check forward pattern
            let forwardMatch = true;
            let forwardIndices = [];
            for (let i = 0; i < sequence.length - 1; i++) {
                const currentIdx = pattern.indexOf(sequence[i]);
                const nextIdx = pattern.indexOf(sequence[i + 1]);

                if (currentIdx === -1 || nextIdx === -1) {
                    forwardMatch = false;
                    break;
                }

                // Check if they follow the pattern order (with cycling)
                if (nextIdx !== (currentIdx + 1) % pattern.length) {
                    forwardMatch = false;
                    break;
                }
                forwardIndices.push(currentIdx);
            }
            forwardIndices.push(pattern.indexOf(sequence[sequence.length - 1]));

            if (forwardMatch) {
                const lastIdx = pattern.indexOf(sequence[sequence.length - 1]);
                const nextDigit = pattern[(lastIdx + 1) % pattern.length];
                return { matched: true, direction: 'forward', nextDigit, pattern };
            }

            // Check reverse pattern
            let reverseMatch = true;
            let reverseIndices = [];
            for (let i = 0; i < sequence.length - 1; i++) {
                const currentIdx = pattern.indexOf(sequence[i]);
                const nextIdx = pattern.indexOf(sequence[i + 1]);

                if (currentIdx === -1 || nextIdx === -1) {
                    reverseMatch = false;
                    break;
                }

                // Check if they follow reverse pattern order (with cycling)
                const expectedNextIdx = (currentIdx - 1 + pattern.length) % pattern.length;
                if (nextIdx !== expectedNextIdx) {
                    reverseMatch = false;
                    break;
                }
                reverseIndices.push(currentIdx);
            }
            reverseIndices.push(pattern.indexOf(sequence[sequence.length - 1]));

            if (reverseMatch) {
                const lastIdx = pattern.indexOf(sequence[sequence.length - 1]);
                const nextDigit = pattern[(lastIdx - 1 + pattern.length) % pattern.length];
                return { matched: true, direction: 'reverse', nextDigit, pattern };
            }

            return { matched: false };
        };

        // Helper function to calculate day gap
        const calculateDayGap = (date1Str, date2Str) => {
            try {
                const [d1, m1, y1] = date1Str.split('-').map(Number);
                const [d2, m2, y2] = date2Str.split('-').map(Number);
                const date1 = new Date(y1, m1 - 1, d1);
                const date2 = new Date(y2, m2 - 1, d2);
                const diffTime = Math.abs(date2 - date1);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays;
            } catch (e) {
                return null;
            }
        };

        // Updated predictor analysis function
        const analyzePredictorWithPriority = (parsedData, inputPrefix) => {
            if (!parsedData || inputPrefix.length !== 3) return null;

            const slots = ['1st', '2nd', '3rd', '5000', '2000', '1000', '500', '200', '100'];
            const allDates = [...parsedData];
            const rangeStart = parseInt(inputPrefix + '0');
            const rangeEnd = parseInt(inputPrefix + '9');

            const matchingResults = [];

            allDates.forEach(day => {
                slots.forEach(slot => {
                    const val = day.result?.[slot];
                    if (!val) return;

                    const nums = Array.isArray(val) ? val : [String(val)];
                    nums.forEach(num => {
                        const numStr = String(num).padStart(4, '0');
                        const numInt = parseInt(numStr);

                        if (numInt >= rangeStart && numInt <= rangeEnd) {
                            matchingResults.push({
                                date: day.date,
                                number: numStr,
                                lastDigit: parseInt(numStr[3]),
                                slot: slot
                            });
                        }
                    });
                });
            });

            matchingResults.sort((a, b) => {
                const dateA = new Date(a.date.split('-').reverse().join('-'));
                const dateB = new Date(b.date.split('-').reverse().join('-'));
                return dateB - dateA;
            });

            if (matchingResults.length === 0) {
                return {
                    results: [],
                    suggestedDigit: 0,
                    suggestedNumber: inputPrefix + '0',
                    suggestionReason: 'No previous data found. Starting with 0.',
                    priority: 'default',
                    lastDigits: [],
                    uniqueLastDigits: []
                };
            }

            // Group results by date
            const resultsByDate = {};
            matchingResults.forEach(result => {
                if (!resultsByDate[result.date]) {
                    resultsByDate[result.date] = [];
                }
                resultsByDate[result.date].push(result.lastDigit);
            });

            const uniqueDates = Object.keys(resultsByDate).sort((a, b) => {
                const dateA = new Date(a.split('-').reverse().join('-'));
                const dateB = new Date(b.split('-').reverse().join('-'));
                return dateB - dateA;
            });

            // PRIORITY 1: Check for 3-4 consecutive days pattern match
            if (uniqueDates.length >= 3) {
                for (let windowSize = 4; windowSize >= 3; windowSize--) {
                    if (uniqueDates.length < windowSize) continue;

                    const recentDates = uniqueDates.slice(0, windowSize);
                    const recentDigits = recentDates.map(date => {
                        const digits = resultsByDate[date];
                        return digits[digits.length - 1]; // Most recent digit from that date
                    });

                    // Check if these are consecutive days
                    let areConsecutive = true;
                    for (let i = 0; i < recentDates.length - 1; i++) {
                        const gap = calculateDayGap(recentDates[i + 1], recentDates[i]);
                        if (gap !== 1) {
                            areConsecutive = false;
                            break;
                        }
                    }

                    if (areConsecutive) {
                        // Check against all patterns
                        for (let pattern of PATTERN_GROUPS) {
                            const patternCheck = checkPatternMatch(recentDigits, pattern);
                            if (patternCheck.matched) {
                                return {
                                    results: matchingResults,
                                    suggestedDigit: patternCheck.nextDigit,
                                    suggestedNumber: inputPrefix + patternCheck.nextDigit,
                                    suggestionReason: `üî• HIGH PRIORITY: Pattern ${JSON.stringify(pattern)} detected in ${patternCheck.direction} direction over ${windowSize} consecutive days (${recentDates.reverse().join(', ')}). Sequence: [${recentDigits.join(' ‚Üí ')}]. Next predicted digit: ${patternCheck.nextDigit}`,
                                    priority: 'high',
                                    lastDigits: matchingResults.map(r => r.lastDigit),
                                    uniqueLastDigits: [...new Set(matchingResults.map(r => r.lastDigit))],
                                    matchedPattern: pattern,
                                    patternDirection: patternCheck.direction,
                                    consecutiveDays: windowSize
                                };
                            }
                        }
                    }
                }
            }

            // PRIORITY 2: Check last 7 days with gaps > 2 days
            if (uniqueDates.length >= 2) {
                const last7Days = uniqueDates.slice(0, Math.min(7, uniqueDates.length));
                const last7Digits = [];
                const gapsInfo = [];

                for (let i = 0; i < last7Days.length; i++) {
                    const digits = resultsByDate[last7Days[i]];
                    last7Digits.push(digits[digits.length - 1]);

                    if (i < last7Days.length - 1) {
                        const gap = calculateDayGap(last7Days[i + 1], last7Days[i]);
                        gapsInfo.push(gap);
                    }
                }

                // Check if there's a gap > 2 days
                const hasLargeGap = gapsInfo.some(gap => gap > 2);

                if (hasLargeGap) {
                    // Look for pattern in these spaced-out results
                    for (let pattern of PATTERN_GROUPS) {
                        const digitsInPattern = last7Digits.filter(d => pattern.includes(d));

                        if (digitsInPattern.length >= 2) {
                            // Find the next logical digit in pattern
                            const lastDigit = last7Digits[0];
                            const lastIdx = pattern.indexOf(lastDigit);

                            if (lastIdx !== -1) {
                                const nextDigit = pattern[(lastIdx + 1) % pattern.length];
                                return {
                                    results: matchingResults,
                                    suggestedDigit: nextDigit,
                                    suggestedNumber: inputPrefix + nextDigit,
                                    suggestionReason: `‚ö° MEDIUM PRIORITY: Pattern ${JSON.stringify(pattern)} detected in last 7 days with gaps ${gapsInfo.join(', ')} days. Recent sequence: [${last7Digits.join(' ‚Üí ')}]. Continuing pattern after ${lastDigit}.`,
                                    priority: 'medium',
                                    lastDigits: matchingResults.map(r => r.lastDigit),
                                    uniqueLastDigits: [...new Set(matchingResults.map(r => r.lastDigit))],
                                    matchedPattern: pattern,
                                    daysAnalyzed: last7Days.length,
                                    gaps: gapsInfo
                                };
                            }
                        }
                    }
                }
            }

            // PRIORITY 3: Check last 7 days with odd number gaps
            if (uniqueDates.length >= 2) {
                const last7Days = uniqueDates.slice(0, Math.min(7, uniqueDates.length));
                const last7Digits = [];
                const oddGapsInfo = [];

                for (let i = 0; i < last7Days.length; i++) {
                    const digits = resultsByDate[last7Days[i]];
                    last7Digits.push(digits[digits.length - 1]);

                    if (i < last7Days.length - 1) {
                        const gap = calculateDayGap(last7Days[i + 1], last7Days[i]);
                        if (gap % 2 === 1) { // Odd gap
                            oddGapsInfo.push(gap);
                        }
                    }
                }

                if (oddGapsInfo.length > 0) {
                    // Find most frequent digit or pattern
                    const digitFrequency = {};
                    last7Digits.forEach(d => {
                        digitFrequency[d] = (digitFrequency[d] || 0) + 1;
                    });

                    // Check for pattern membership
                    for (let pattern of PATTERN_GROUPS) {
                        const digitsInPattern = last7Digits.filter(d => pattern.includes(d));

                        if (digitsInPattern.length >= 2) {
                            const lastDigit = last7Digits[0];
                            const lastIdx = pattern.indexOf(lastDigit);

                            if (lastIdx !== -1) {
                                const nextDigit = pattern[(lastIdx + 1) % pattern.length];
                                return {
                                    results: matchingResults,
                                    suggestedDigit: nextDigit,
                                    suggestedNumber: inputPrefix + nextDigit,
                                    suggestionReason: `üí° NORMAL PRIORITY: Pattern ${JSON.stringify(pattern)} detected in last 7 days with odd gaps [${oddGapsInfo.join(', ')} days]. Recent digits: [${last7Digits.join(', ')}]. Suggesting ${nextDigit} based on pattern continuation.`,
                                    priority: 'normal',
                                    lastDigits: matchingResults.map(r => r.lastDigit),
                                    uniqueLastDigits: [...new Set(matchingResults.map(r => r.lastDigit))],
                                    matchedPattern: pattern,
                                    daysAnalyzed: last7Days.length,
                                    oddGaps: oddGapsInfo
                                };
                            }
                        }
                    }

                    // If no pattern, suggest most frequent digit
                    const mostFrequent = Object.entries(digitFrequency).sort((a, b) => b[1] - a[1])[0];
                    return {
                        results: matchingResults,
                        suggestedDigit: parseInt(mostFrequent[0]),
                        suggestedNumber: inputPrefix + mostFrequent[0],
                        suggestionReason: `üí° NORMAL PRIORITY: Most frequent digit (${mostFrequent[0]}) appeared ${mostFrequent[1]} times in last 7 days with odd gaps. Recent sequence: [${last7Digits.join(', ')}].`,
                        priority: 'normal',
                        lastDigits: matchingResults.map(r => r.lastDigit),
                        uniqueLastDigits: [...new Set(matchingResults.map(r => r.lastDigit))],
                        daysAnalyzed: last7Days.length,
                        oddGaps: oddGapsInfo
                    };
                }
            }

            // Default fallback
            const allLastDigits = matchingResults.map(r => r.lastDigit);
            const uniqueLastDigits = [...new Set(allLastDigits)];
            const lastDigit = allLastDigits[0];

            // Try to find any pattern
            for (let pattern of PATTERN_GROUPS) {
                if (pattern.includes(lastDigit)) {
                    const lastIdx = pattern.indexOf(lastDigit);
                    const nextDigit = pattern[(lastIdx + 1) % pattern.length];
                    return {
                        results: matchingResults,
                        suggestedDigit: nextDigit,
                        suggestedNumber: inputPrefix + nextDigit,
                        suggestionReason: `‚ÑπÔ∏è DEFAULT: Last observed digit was ${lastDigit}. Suggesting ${nextDigit} from pattern ${JSON.stringify(pattern)}.`,
                        priority: 'default',
                        lastDigits: allLastDigits,
                        uniqueLastDigits: uniqueLastDigits,
                        matchedPattern: pattern
                    };
                }
            }

            return {
                results: matchingResults,
                suggestedDigit: 0,
                suggestedNumber: inputPrefix + '0',
                suggestionReason: '‚ÑπÔ∏è DEFAULT: No clear pattern found. Starting with 0.',
                priority: 'default',
                lastDigits: allLastDigits,
                uniqueLastDigits: uniqueLastDigits
            };
        };

        const analyzeTwoDigitPattern = (parsedData, inputTwoDigits) => {
            if (!parsedData || inputTwoDigits.length !== 2) return null;

            const slots = ['1st', '2nd', '3rd', '5000', '2000', '1000', '500', '200', '100'];
            const allDates = [...parsedData];

            // Get last 16 days
            const last16Days = allDates.slice(0, 16);

            if (last16Days.length === 0) return null;

            // Collect all occurrences of numbers starting with these two digits
            const occurrences = [];

            last16Days.forEach(day => {
                slots.forEach(slot => {
                    const val = day.result?.[slot];
                    if (!val) return;

                    const nums = Array.isArray(val) ? val : [String(val)];
                    nums.forEach(num => {
                        const numStr = String(num).padStart(4, '0');
                        const twoDigitPrefix = numStr.substring(0, 2);

                        if (twoDigitPrefix === inputTwoDigits) {
                            occurrences.push({
                                date: day.date,
                                number: numStr,
                                slot: slot,
                                fullNumber: numStr
                            });
                        }
                    });
                });
            });

            if (occurrences.length === 0) {
                return {
                    found: false,
                    totalOccurrences: 0,
                    message: `No numbers starting with ${inputTwoDigits} found in last 16 days`,
                    datesList: [],
                    occurrences: []
                };
            }

            // Sort by date (most recent first)
            occurrences.sort((a, b) => {
                const dateA = new Date(a.date.split('-').reverse().join('-'));
                const dateB = new Date(b.date.split('-').reverse().join('-'));
                return dateB - dateA;
            });

            // Get unique dates
            const uniqueDates = [...new Set(occurrences.map(o => o.date))];
            uniqueDates.sort((a, b) => {
                const dateA = new Date(a.split('-').reverse().join('-'));
                const dateB = new Date(b.split('-').reverse().join('-'));
                return dateB - dateA;
            });

            // Calculate gaps between dates
            const dateGaps = [];
            for (let i = 0; i < uniqueDates.length - 1; i++) {
                const date1 = new Date(uniqueDates[i].split('-').reverse().join('-'));
                const date2 = new Date(uniqueDates[i + 1].split('-').reverse().join('-'));
                const diffTime = Math.abs(date2 - date1);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                dateGaps.push({
                    fromDate: uniqueDates[i + 1],
                    toDate: uniqueDates[i],
                    gap: diffDays
                });
            }

            // Calculate average gap
            const avgGap = dateGaps.length > 0
                ? Math.round(dateGaps.reduce((sum, g) => sum + g.gap, 0) / dateGaps.length)
                : 0;

            // Predict next occurrence
            const mostRecentDate = uniqueDates[0];
            const mostRecentDateObj = new Date(mostRecentDate.split('-').reverse().join('-'));
            const predictedNextDate = new Date(mostRecentDateObj);
            predictedNextDate.setDate(predictedNextDate.getDate() + avgGap);

            const predictedDateStr = `${String(predictedNextDate.getDate()).padStart(2, '0')}-${String(predictedNextDate.getMonth() + 1).padStart(2, '0')}-${predictedNextDate.getFullYear()}`;

            return {
                found: true,
                twoDigits: inputTwoDigits,
                totalOccurrences: occurrences.length,
                uniqueDatesCount: uniqueDates.length,
                occurrences: occurrences,
                uniqueDates: uniqueDates,
                dateGaps: dateGaps,
                averageGap: avgGap,
                predictedNextDate: predictedDateStr,
                datesList: uniqueDates,
                last16DaysAnalyzed: last16Days.length
            };
        };

        const TrendingUpIcon = () => (
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
        );

        const LotteryPatternAnalyzer = () => {
            const [parsedData, setParsedData] = useState(null);
            const [loading, setLoading] = useState(true);
            const [view, setView] = useState('search');
            const [searchType, setSearchType] = useState('exact');
            const [searchInput, setSearchInput] = useState('');
            const [predictorInput, setPredictorInput] = useState('');
            const [bulkPredictorInput, setBulkPredictorInput] = useState('');
            const [bulkPredictorResults, setBulkPredictorResults] = useState([]);
            const [expandedRows, setExpandedRows] = useState(new Set());

            const bulkCheckNumbers = [
                "000", "001", "002", "003", "004", "005", "006", "007", "008", "009",
                "010", "011", "012", "013", "014", "015", "016", "017", "018", "019",
                "020", "021", "022", "023", "024", "025", "026", "027", "028", "029",
                "030", "031", "032", "033", "034", "035", "036", "037", "038", "039",
                "040", "041", "042", "043", "044", "045", "046", "047", "048", "049",
                "050", "051", "052", "053", "054", "055", "056", "057", "058", "059",
                "060", "061", "062", "063", "064", "065", "066", "067", "068", "069",
                "070", "071", "072", "073", "074", "075", "076", "077", "078", "079",
                "080", "081", "082", "083", "084", "085", "086", "087", "088", "089",
                "090", "091", "092", "093", "094", "095", "096", "097", "098", "099",
                100, 101, 102, 103, 104, 105, 106, 107, 108, 109,
                110, 111, 112, 113, 114, 115, 116, 117, 118, 119,
                120, 121, 122, 123, 124, 125, 126, 127, 128, 129,
                130, 131, 132, 133, 134, 135, 136, 137, 138, 139,
                140, 141, 142, 143, 144, 145, 146, 147, 148, 149,
                150, 151, 152, 153, 154, 155, 156, 157, 158, 159,
                160, 161, 162, 163, 164, 165, 166, 167, 168, 169,
                170, 171, 172, 173, 174, 175, 176, 177, 178, 179,
                180, 181, 182, 183, 184, 185, 186, 187, 188, 189,
                190, 191, 192, 193, 194, 195, 196, 197, 198, 199,
                200, 201, 202, 203, 204, 205, 206, 207, 208, 209,
                210, 211, 212, 213, 214, 215, 216, 217, 218, 219,
                220, 221, 222, 223, 224, 225, 226, 227, 228, 229,
                230, 231, 232, 233, 234, 235, 236, 237, 238, 239,
                240, 241, 242, 243, 244, 245, 246, 247, 248, 249,
                250, 251, 252, 253, 254, 255, 256, 257, 258, 259,
                260, 261, 262, 263, 264, 265, 266, 267, 268, 269,
                270, 271, 272, 273, 274, 275, 276, 277, 278, 279,
                280, 281, 282, 283, 284, 285, 286, 287, 288, 289,
                290, 291, 292, 293, 294, 295, 296, 297, 298, 299,
                300, 301, 302, 303, 304, 305, 306, 307, 308, 309,
                310, 311, 312, 313, 314, 315, 316, 317, 318, 319,
                320, 321, 322, 323, 324, 325, 326, 327, 328, 329,
                330, 331, 332, 333, 334, 335, 336, 337, 338, 339,
                340, 341, 342, 343, 344, 345, 346, 347, 348, 349,
                350, 351, 352, 353, 354, 355, 356, 357, 358, 359,
                360, 361, 362, 363, 364, 365, 366, 367, 368, 369,
                370, 371, 372, 373, 374, 375, 376, 377, 378, 379,
                380, 381, 382, 383, 384, 385, 386, 387, 388, 389,
                390, 391, 392, 393, 394, 395, 396, 397, 398, 399,
                400, 401, 402, 403, 404, 405, 406, 407, 408, 409,
                410, 411, 412, 413, 414, 415, 416, 417, 418, 419,
                420, 421, 422, 423, 424, 425, 426, 427, 428, 429,
                430, 431, 432, 433, 434, 435, 436, 437, 438, 439,
                440, 441, 442, 443, 444, 445, 446, 447, 448, 449,
                450, 451, 452, 453, 454, 455, 456, 457, 458, 459,
                460, 461, 462, 463, 464, 465, 466, 467, 468, 469,
                470, 471, 472, 473, 474, 475, 476, 477, 478, 479,
                480, 481, 482, 483, 484, 485, 486, 487, 488, 489,
                490, 491, 492, 493, 494, 495, 496, 497, 498, 499,
                500, 501, 502, 503, 504, 505, 506, 507, 508, 509,
                510, 511, 512, 513, 514, 515, 516, 517, 518, 519,
                520, 521, 522, 523, 524, 525, 526, 527, 528, 529,
                530, 531, 532, 533, 534, 535, 536, 537, 538, 539,
                540, 541, 542, 543, 544, 545, 546, 547, 548, 549,
                550, 551, 552, 553, 554, 555, 556, 557, 558, 559,
                560, 561, 562, 563, 564, 565, 566, 567, 568, 569,
                570, 571, 572, 573, 574, 575, 576, 577, 578, 579,
                580, 581, 582, 583, 584, 585, 586, 587, 588, 589,
                590, 591, 592, 593, 594, 595, 596, 597, 598, 599,
                600, 601, 602, 603, 604, 605, 606, 607, 608, 609,
                610, 611, 612, 613, 614, 615, 616, 617, 618, 619,
                620, 621, 622, 623, 624, 625, 626, 627, 628, 629,
                630, 631, 632, 633, 634, 635, 636, 637, 638, 639,
                640, 641, 642, 643, 644, 645, 646, 647, 648, 649,
                650, 651, 652, 653, 654, 655, 656, 657, 658, 659,
                660, 661, 662, 663, 664, 665, 666, 667, 668, 669,
                670, 671, 672, 673, 674, 675, 676, 677, 678, 679,
                680, 681, 682, 683, 684, 685, 686, 687, 688, 689,
                690, 691, 692, 693, 694, 695, 696, 697, 698, 699,
                700, 701, 702, 703, 704, 705, 706, 707, 708, 709,
                710, 711, 712, 713, 714, 715, 716, 717, 718, 719,
                720, 721, 722, 723, 724, 725, 726, 727, 728, 729,
                730, 731, 732, 733, 734, 735, 736, 737, 738, 739,
                740, 741, 742, 743, 744, 745, 746, 747, 748, 749,
                750, 751, 752, 753, 754, 755, 756, 757, 758, 759,
                760, 761, 762, 763, 764, 765, 766, 767, 768, 769,
                770, 771, 772, 773, 774, 775, 776, 777, 778, 779,
                780, 781, 782, 783, 784, 785, 786, 787, 788, 789,
                790, 791, 792, 793, 794, 795, 796, 797, 798, 799,
                800, 801, 802, 803, 804, 805, 806, 807, 808, 809,
                810, 811, 812, 813, 814, 815, 816, 817, 818, 819,
                820, 821, 822, 823, 824, 825, 826, 827, 828, 829,
                830, 831, 832, 833, 834, 835, 836, 837, 838, 839,
                840, 841, 842, 843, 844, 845, 846, 847, 848, 849,
                850, 851, 852, 853, 854, 855, 856, 857, 858, 859,
                860, 861, 862, 863, 864, 865, 866, 867, 868, 869,
                870, 871, 872, 873, 874, 875, 876, 877, 878, 879,
                880, 881, 882, 883, 884, 885, 886, 887, 888, 889,
                890, 891, 892, 893, 894, 895, 896, 897, 898, 899,
                900, 901, 902, 903, 904, 905, 906, 907, 908, 909,
                910, 911, 912, 913, 914, 915, 916, 917, 918, 919,
                920, 921, 922, 923, 924, 925, 926, 927, 928, 929,
                930, 931, 932, 933, 934, 935, 936, 937, 938, 939,
                940, 941, 942, 943, 944, 945, 946, 947, 948, 949,
                950, 951, 952, 953, 954, 955, 956, 957, 958, 959,
                960, 961, 962, 963, 964, 965, 966, 967, 968, 969,
                970, 971, 972, 973, 974, 975, 976, 977, 978, 979,
                980, 981, 982, 983, 984, 985, 986, 987, 988, 989,
                990, 991, 992, 993, 994, 995, 996, 997, 998, 999]

            const [twoDigitInput, setTwoDigitInput] = useState('');
            const [twoDigitAnalysis, setTwoDigitAnalysis] = useState(null);
            const [showTwoDigitDetails, setShowTwoDigitDetails] = useState(false);
            const [selectedParentBlock, setSelectedParentBlock] = useState('all');
            // Add this useMemo hook for two digit analysis
            const twoDigitAnalysisResult = useMemo(() => {
                if (!parsedData || twoDigitInput.length !== 2) return null;
                return analyzeTwoDigitPattern(parsedData, twoDigitInput);
            }, [parsedData, twoDigitInput]);

            const [jsonInput, setJsonInput] = useState('');
            const [result, setResult] = useState(null);
            const [error, setError] = useState('');


            useEffect(() => {
                const loadData = async () => {
                    try {
                        fetch('../lottery-data.json')
                            .then(response => {
                                if (!response.ok) {
                                    throw new Error('Failed to load JSON file');
                                }
                                return response.json();
                            })
                            .then(data => {
                                lotteryData = data;
                                console.log('Lottery data loaded:', lotteryData);
                                setParsedData(lotteryData);
                                setLoading(false);
                            })
                            .catch(error => {
                                console.error('Error loading JSON:', error);
                                setLoading(false);
                            });
                    } catch (error) {
                        console.error('Error loading data:', error);
                        setLoading(false);
                    }
                };
                loadData();
            }, []);

            const searchByPrefix = useMemo(() => {
                if (!parsedData || searchInput.length === 0) return [];

                const slots = ['1st', '2nd', '3rd', '5000', '2000', '1000', '500', '200', '100'];
                const allDates = [...parsedData];
                const results = [];

                allDates.forEach(day => {
                    const matchingNumbersBySlot = {};
                    slots.forEach(slot => {
                        const val = day.result?.[slot];
                        if (!val) return;

                        const nums = Array.isArray(val) ? val : [String(val)];
                        nums.forEach(num => {
                            const numStr = String(num).padStart(4, '0');
                            let isMatch = false;

                            if (searchType === 'range') {
                                const rangePrefix = searchInput.padEnd(3, '0');
                                const rangeStart = parseInt(rangePrefix + '0');
                                const rangeEnd = parseInt(rangePrefix + '9');
                                const numInt = parseInt(numStr);
                                isMatch = numInt >= rangeStart && numInt <= rangeEnd;
                            } else if (searchType === 'exact') {
                                const exactNum = searchInput.padStart(4, '0');
                                isMatch = numStr === exactNum;
                            }

                            if (isMatch) {
                                if (!matchingNumbersBySlot[slot]) {
                                    matchingNumbersBySlot[slot] = [];
                                }
                                matchingNumbersBySlot[slot].push(numStr);
                            }
                        });
                    });

                    if (Object.keys(matchingNumbersBySlot).length > 0) {
                        results.push({
                            date: day.date,
                            numbersBySlot: matchingNumbersBySlot
                        });
                    }
                });

                return results;
            }, [parsedData, searchInput, searchType]);

            const predictorAnalysis = useMemo(() => {
                if (!parsedData || predictorInput.length !== 3) return null;
                return analyzePredictorWithPriority(parsedData, predictorInput);
            }, [parsedData, predictorInput]);

            const homePageRedirect = () => {
                window.location.assign("https://kumaraneng123-spec.github.io/lottery-prediction-tool/v2.prediction.html")
            }

            const exportBulkPredictorResults = () => {
                if (!bulkPredictorResults || bulkPredictorResults.length === 0) return;

                try {
                    const csv = [
                        ['Priority', 'Input Number', 'Suggested Number', 'Pattern', 'Reason', 'History Count'].join(','),
                        ...bulkPredictorResults.map(r => [
                            r.priority || 'default',
                            r.inputNumber || '',
                            r.suggestedNumber || '',
                            r.matchedPattern ? JSON.stringify(r.matchedPattern) : 'No Pattern',
                            `"${r.suggestionReason || ''}"`,
                            r.historyCount || 0
                        ].join(','))
                    ].join('\n');

                    const blob = new Blob([csv], { type: 'text/csv' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'bulk-predictions.csv';
                    a.click();
                    URL.revokeObjectURL(url);
                } catch (error) {
                    console.error('Error exporting results:', error);
                }
            };



            const exportSuggestedNumbersAsPDF = () => {
                if (!bulkPredictorResults || bulkPredictorResults.length === 0) return;

                try {
                    // Group numbers by priority
                    const byPriority = {
                        high: [],
                        medium: [],
                        normal: [],
                        default: []
                    };

                    bulkPredictorResults.forEach(result => {
                        byPriority[result.priority].push(result);
                    });

                    // Create HTML element for PDF (NOT a string)
                    const element = document.createElement('div');
                    element.style.padding = '20px';
                    element.style.backgroundColor = '#f5f5f5';

                    // Add header
                    const header = document.createElement('div');
                    header.style.textAlign = 'center';
                    header.style.marginBottom = '30px';
                    header.innerHTML = `
                        <h1 style="color: #333; font-size: 28px; margin: 0;">üéØ Lottery Suggested Numbers Report</h1>
                        <p style="color: #666; margin: 5px 0;">Generated on: ${new Date().toLocaleString()}</p>
                    `;
                    element.appendChild(header);

                    // Add sections by priority
                    const priorityLabels = {
                        high: 'üî• HIGH PRIORITY',
                        medium: '‚ö° MEDIUM PRIORITY',
                        normal: 'üí° NORMAL PRIORITY',
                        default: '‚ÑπÔ∏è DEFAULT PRIORITY'
                    };

                    const priorityColors = {
                        high: 'linear-gradient(135deg, #d32f2f 0%, #c62828 100%)',
                        medium: 'linear-gradient(135deg, #f57c00 0%, #e65100 100%)',
                        normal: 'linear-gradient(135deg, #fbc02d 0%, #f9a825 100%)',
                        default: 'linear-gradient(135deg, #1976d2 0%, #1565c0 100%)'
                    };

                    for (const [priority, results] of Object.entries(byPriority)) {
                        if (results.length === 0) continue;

                        const section = document.createElement('div');
                        section.style.marginBottom = '30px';
                        section.style.pageBreakInside = 'avoid';

                        const sectionHeader = document.createElement('h2');
                        sectionHeader.style.color = 'white';
                        sectionHeader.style.padding = '15px';
                        sectionHeader.style.borderRadius = '5px';
                        sectionHeader.style.margin = '0 0 15px 0';
                        sectionHeader.style.fontSize = '18px';
                        sectionHeader.style.background = priorityColors[priority];
                        sectionHeader.textContent = `${priorityLabels[priority]} (${results.length} numbers)`;
                        section.appendChild(sectionHeader);

                        const grid = document.createElement('div');
                        grid.style.display = 'grid';
                        grid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(80px, 1fr))';
                        grid.style.gap = '10px';
                        grid.style.padding = '0 15px';

                        results.forEach(result => {
                            const box = document.createElement('div');
                            box.style.background = 'white';
                            box.style.border = '2px solid #ddd';
                            box.style.borderRadius = '8px';
                            box.style.padding = '15px';
                            box.style.textAlign = 'center';
                            box.style.fontWeight = 'bold';
                            box.style.fontSize = '18px';
                            box.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
                            box.textContent = result.suggestedNumber;
                            grid.appendChild(box);
                        });

                        section.appendChild(grid);
                        element.appendChild(section);
                    }

                    // Add summary
                    const summary = document.createElement('div');
                    summary.style.textAlign = 'center';
                    summary.style.padding = '20px';
                    summary.style.background = 'white';
                    summary.style.borderRadius = '8px';
                    summary.style.marginTop = '20px';
                    summary.style.border = '2px solid #667eea';
                    summary.innerHTML = `
                        <h3 style="color: #333; margin-top: 0;">Summary</h3>
                        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                            <div style="padding: 10px 20px; background: #f0f0f0; border-radius: 5px;"><strong>Total:</strong> ${bulkPredictorResults.length}</div>
                            <div style="padding: 10px 20px; background: #f0f0f0; border-radius: 5px;"><strong>High Priority:</strong> ${byPriority.high.length}</div>
                            <div style="padding: 10px 20px; background: #f0f0f0; border-radius: 5px;"><strong>Medium Priority:</strong> ${byPriority.medium.length}</div>
                            <div style="padding: 10px 20px; background: #f0f0f0; border-radius: 5px;"><strong>Normal Priority:</strong> ${byPriority.normal.length}</div>
                            <div style="padding: 10px 20px; background: #f0f0f0; border-radius: 5px;"><strong>Default Priority:</strong> ${byPriority.default.length}</div>
                        </div>
                    `;
                    element.appendChild(summary);

                    // Convert to PDF using html2pdf library - pass the element, not a string
                    const opt = {
                        margin: 10,
                        filename: 'lottery-suggested-numbers.pdf',
                        image: { type: 'jpeg', quality: 0.98 },
                        html2canvas: { scale: 2 },
                        jsPDF: { orientation: 'portrait', unit: 'mm', format: 'a4' }
                    };

                    html2pdf().set(opt).from(element).save();
                } catch (error) {
                    console.error('Error exporting PDF:', error);
                    alert('Error exporting PDF. Please try again.');
                }
            };

            const toggleRowExpansion = (index) => {
                const newExpanded = new Set(expandedRows);
                if (newExpanded.has(index)) {
                    newExpanded.delete(index);
                } else {
                    newExpanded.add(index);
                }
                setExpandedRows(newExpanded);
            };

            const analyzeBulkPredictorNumbers = () => {
                if (!parsedData || !bulkPredictorInput || !bulkPredictorInput.trim()) {
                    setBulkPredictorResults([]);
                    return;
                }

                const inputNumbers = bulkPredictorInput
                    .split(/[\n,\s]+/)
                    .map(n => n.trim())
                    .filter(n => /^\d{3}$/.test(n));

                if (inputNumbers.length === 0) {
                    setBulkPredictorResults([]);
                    return;
                }

                const uniqueNumbers = [...new Set(inputNumbers)];

                const results = uniqueNumbers.map(num => {
                    const analysis = analyzePredictorWithPriority(parsedData, num);

                    if (!analysis) {
                        return {
                            inputNumber: num,
                            suggestedNumber: num + '0',
                            suggestedDigit: 0,
                            matchedPattern: null,
                            suggestionReason: 'No data available',
                            priority: 'default',
                            historyCount: 0,
                            history: [],
                            uniqueLastDigits: [],
                            lastDigits: []
                        };
                    }

                    return {
                        inputNumber: num,
                        suggestedNumber: analysis.suggestedNumber,
                        suggestedDigit: analysis.suggestedDigit,
                        matchedPattern: analysis.matchedPattern,
                        suggestionReason: analysis.suggestionReason,
                        priority: analysis.priority,
                        historyCount: analysis.results.length,
                        history: analysis.results.slice(0, 10),
                        uniqueLastDigits: analysis.uniqueLastDigits,
                        lastDigits: analysis.lastDigits,
                        patternDirection: analysis.patternDirection,
                        consecutiveDays: analysis.consecutiveDays,
                        daysAnalyzed: analysis.daysAnalyzed,
                        gaps: analysis.gaps,
                        oddGaps: analysis.oddGaps
                    };
                });

                // Sort by priority: high -> medium -> normal -> default
                const priorityOrder = { 'high': 0, 'medium': 1, 'normal': 2, 'default': 3 };
                results.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);

                setBulkPredictorResults(results);
            };
            // SIMPLE COMPARISON FUNCTION - Just extract all numbers and compare
            const compareAllNumbers = (jsonResult) => {
                if (!bulkPredictorResults || bulkPredictorResults.length === 0) {
                    alert("Please click in order from 'Load All Numbers' first, Then 'Analyze All Numbers'. Finally Click the Today's comparison button")
                    return
                };

                let suggestedNos = []
                const allNumbers = [];
                try {
                    bulkPredictorResults.forEach(result => {
                        suggestedNos.push(result?.suggestedNumber);
                    });



                    // Extract all numbers from result regardless of slot
                    const recursiveExtract = (obj) => {
                        if (typeof obj === 'string') {
                            const normalized = obj.padStart(4, '0');
                            if (/^\d{4}$/.test(normalized)) {
                                allNumbers.push(normalized);
                            }
                        } else if (Array.isArray(obj)) {
                            obj.forEach(item => recursiveExtract(item));
                        } else if (typeof obj === 'object' && obj !== null) {
                            Object.values(obj).forEach(item => recursiveExtract(item));
                        }
                    };

                    recursiveExtract(jsonResult);

                    // Remove duplicates
                    const uniqueNumbers = [...new Set(allNumbers)];

                    // Compare with Suggested Numbers
                    const matched = [];
                    const notMatched = [];

                    uniqueNumbers.forEach(num => {
                        if (suggestedNos.includes(num)) {
                            matched.push(num);
                        } else {
                            notMatched.push(num);
                        }
                    });

                    return {
                        allNumbers: uniqueNumbers,
                        matched: matched.sort(),
                        notMatched: notMatched.sort(),
                        totalNumbers: uniqueNumbers.length,
                        matchedCount: matched.length,
                        notMatchedCount: notMatched.length,
                        matchPercentage: uniqueNumbers.length > 0 ? ((matched.length / uniqueNumbers.length) * 100).toFixed(2) : 0
                    };
                }
                catch (err) {
                    console.log(err)
                }

            };
            const handleAnalyze = () => {
                try {
                    setError('');
                    const parsed = JSON.parse(jsonInput);

                    if (!parsed.result) {
                        setError('‚ùå Invalid format: JSON must contain a "result" object');
                        return;
                    }

                    const comparison = compareAllNumbers(parsed.result);
                    setResult(comparison);
                } catch (e) {
                    setError(`‚ùå JSON Parse Error: ${e.message}`);
                }
            };

            if (loading) return (
                <div className="loading">
                    <div className="spinner"></div>
                    <p className="loading-text">Loading lottery data...</p>
                </div>
            );

            return (
                <div className="container">
                    <div className="header">
                        <h1>
                            <TrendingUpIcon />
                            Lottery Pattern Analyzer
                        </h1>
                        <p>Analyze lottery patterns and search winning numbers</p>
                    </div>

                    <div className="tab-buttons">
                        <button
                            onClick={() => {
                                setView('twoDigitAnalysis');
                                setTwoDigitInput('');
                                setTwoDigitAnalysis(null);
                            }}
                            className={`tab-button ${view === 'twoDigitAnalysis' ? 'active' : 'inactive'}`}
                        >
                            Two Digit Pattern (16 Days)
                        </button>
                        <button
                            onClick={() => setView('search')}
                            className={`tab-button ${view === 'search' ? 'active' : 'inactive'}`}
                        >
                            Number Search
                        </button>
                        <button
                            onClick={() => setView('predictor')}
                            className={`tab-button ${view === 'predictor' ? 'active' : 'inactive'}`}
                        >
                            Predictor Suggestion
                        </button>
                        <button
                            onClick={() => setView('bulkPredictor')}
                            className={`tab-button ${view === 'bulkPredictor' ? 'active' : 'inactive'}`}
                        >
                            Bulk Predictor
                        </button>
                        <button onClick={homePageRedirect} className="tab-button">
                            Go to Home Page
                        </button>
                    </div>

                    {view === 'search' && (
                        <div>
                            <div className="card">
                                <label className="input-label">Search Type</label>
                                <div className="search-type-buttons">
                                    <button
                                        onClick={() => { setSearchType('range'); setSearchInput(''); }}
                                        className={`search-type-btn ${searchType === 'range' ? 'active' : 'inactive'}`}
                                    >
                                        3-Digit Range
                                    </button>
                                    <button
                                        onClick={() => { setSearchType('exact'); setSearchInput(''); }}
                                        className={`search-type-btn ${searchType === 'exact' ? 'active' : 'inactive'}`}
                                    >
                                        4-Digit Exact
                                    </button>
                                </div>

                                <label className="input-label">
                                    {searchType === 'range' && 'Enter 3 Digits for Range (e.g., 810 ‚Üí 8100-8109)'}
                                    {searchType === 'exact' && 'Enter 4-Digit Number (e.g., 1234, 5678, 0099)'}
                                </label>
                                <input
                                    type="text"
                                    value={searchInput}
                                    onChange={(e) => {
                                        const val = e.target.value.replace(/\D/g, '');
                                        if (searchType === 'range') {
                                            setSearchInput(val.slice(0, 3));
                                        } else if (searchType === 'exact') {
                                            setSearchInput(val.slice(0, 4));
                                        }
                                    }}
                                    placeholder={
                                        searchType === 'range' ? 'e.g., 810, 123, 456' :
                                            'e.g., 1234, 5678, 0099'
                                    }
                                    className="search-input"
                                    maxLength={searchType === 'exact' ? 4 : 3}
                                />

                                {searchType === 'range' && searchInput.length === 3 && (
                                    <p className="range-info">
                                        Searching range: {searchInput}0 - {searchInput}9 (10 numbers)
                                    </p>
                                )}
                            </div>

                            {searchInput.length > 0 && (
                                <div>
                                    <h2 className="results-header">
                                        {searchType === 'range' && `Results for Range ${searchInput}0-${searchInput}9`}
                                        {searchType === 'exact' && `Results for Number "${searchInput.padStart(4, '0')}"`}
                                        <span> ({searchByPrefix.length} dates found)</span>
                                    </h2>

                                    {searchByPrefix.length === 0 ? (
                                        <div className="no-results">
                                            <p>
                                                {searchType === 'range' && `No numbers found in range ${searchInput}0-${searchInput}9`}
                                                {searchType === 'exact' && `Number "${searchInput.padStart(4, '0')}" has not appeared in any draws`}
                                            </p>
                                        </div>
                                    ) : (
                                        <div className="results-grid">
                                            {searchByPrefix.map((result, idx) => {
                                                const totalNumbers = Object.values(result.numbersBySlot).reduce((sum, nums) => sum + nums.length, 0);
                                                return (
                                                    <div key={idx} className="result-card">
                                                        <div className="result-header">
                                                            <div className="result-date">{result.date}</div>
                                                            <div className="result-count">{totalNumbers} number{totalNumbers > 1 ? 's' : ''} found</div>
                                                        </div>
                                                        <div>
                                                            {Object.entries(result.numbersBySlot).map(([slot, numbers]) => (
                                                                <div key={slot} className="slot-card">
                                                                    <div className="slot-header">
                                                                        <span className="prize-badge">‚Çπ{slot}</span>
                                                                        <span className="match-count">({numbers.length} match{numbers.length > 1 ? 'es' : ''})</span>
                                                                    </div>
                                                                    <div className="numbers-container">
                                                                        {numbers.map((num, numIdx) => (
                                                                            <span key={numIdx} className="number-badge">
                                                                                {num}
                                                                            </span>
                                                                        ))}
                                                                    </div>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                    )}

                    {view === 'predictor' && (
                        <div>
                            <div className="card">
                                <h2 className="section-title">Predictor Suggestion</h2>
                                <label className="input-label">Enter 3-Digit Number for Prediction</label>
                                <input
                                    type="text"
                                    value={predictorInput}
                                    onChange={(e) => {
                                        const val = e.target.value.replace(/\D/g, '');
                                        setPredictorInput(val.slice(0, 3));
                                    }}
                                    placeholder="e.g., 105, 810, 123"
                                    className="search-input"
                                    maxLength={3}
                                />
                                <p className="range-info">
                                    Analyzing range: {predictorInput || '___'}0 - {predictorInput || '___'}9
                                </p>
                            </div>

                            {predictorInput.length === 3 && predictorAnalysis && (
                                <div>
                                    <div className="prediction-card">
                                        <h2 className="section-title">
                                            üéØ Suggested Number
                                            <span className={`priority-badge priority-${predictorAnalysis.priority}`}>
                                                {predictorAnalysis.priority.toUpperCase()} PRIORITY
                                            </span>
                                        </h2>
                                        <div className="prediction-number">{predictorAnalysis.suggestedNumber}</div>
                                        <div className="prediction-reason">
                                            <strong>Analysis:</strong> {predictorAnalysis.suggestionReason}
                                        </div>

                                        {predictorAnalysis.patternDirection && (
                                            <div className="pattern-direction">
                                                {predictorAnalysis.patternDirection === 'forward' ? '‚û°Ô∏è' : '‚¨ÖÔ∏è'}
                                                Pattern Direction: {predictorAnalysis.patternDirection === 'forward' ? 'Forward' : 'Reverse'}
                                            </div>
                                        )}

                                        {predictorAnalysis.consecutiveDays && (
                                            <div className="gap-info">
                                                <strong>üî• Consecutive Days:</strong> {predictorAnalysis.consecutiveDays} days in a row
                                            </div>
                                        )}

                                        {predictorAnalysis.gaps && predictorAnalysis.gaps.length > 0 && (
                                            <div className="gap-info">
                                                <strong>üìä Day Gaps:</strong> {predictorAnalysis.gaps.join(', ')} days
                                            </div>
                                        )}

                                        {predictorAnalysis.oddGaps && predictorAnalysis.oddGaps.length > 0 && (
                                            <div className="gap-info">
                                                <strong>üìä Odd Day Gaps:</strong> {predictorAnalysis.oddGaps.join(', ')} days
                                            </div>
                                        )}

                                        {predictorAnalysis.matchedPattern && (
                                            <div className="pattern-info">
                                                <div className="pattern-title">Detected Pattern</div>
                                                <div className="pattern-digits">
                                                    {predictorAnalysis.matchedPattern.map((digit, idx) => (
                                                        <span
                                                            key={idx}
                                                            className="pattern-digit"
                                                            style={{
                                                                opacity: predictorAnalysis.uniqueLastDigits.includes(digit) ? 1 : 0.5
                                                            }}
                                                        >
                                                            {digit}
                                                        </span>
                                                    ))}
                                                </div>
                                                <div style={{ marginTop: '15px', fontSize: '0.95rem', color: '#666' }}>
                                                    <strong>Observed last digits:</strong> {predictorAnalysis.uniqueLastDigits.sort((a, b) => a - b).join(', ')}
                                                </div>
                                            </div>
                                        )}
                                    </div>

                                    <div className="card">
                                        <h2 className="section-title">Previous Results History</h2>
                                        {predictorAnalysis.results.length === 0 ? (
                                            <div className="no-results">
                                                <p>No previous results found for range {predictorInput}0-{predictorInput}9</p>
                                            </div>
                                        ) : (
                                            <div className="history-table">
                                                <div className="history-row header">
                                                    <div>Date</div>
                                                    <div>Number</div>
                                                    <div>Last Digit</div>
                                                    <div>Prize Slot</div>
                                                </div>
                                                {predictorAnalysis.results.map((result, idx) => (
                                                    <div key={idx} className="history-row">
                                                        <div>{result.date}</div>
                                                        <div><strong>{result.number}</strong></div>
                                                        <div>
                                                            <span className="last-digit-badge">{result.lastDigit}</span>
                                                        </div>
                                                        <div>‚Çπ{result.slot}</div>
                                                    </div>
                                                ))}
                                            </div>
                                        )}

                                        {predictorAnalysis.results.length > 0 && (
                                            <div className="pattern-info" style={{ marginTop: '20px' }}>
                                                <div className="pattern-title">Last Digit Sequence (Most Recent First)</div>
                                                <div className="pattern-digits">
                                                    {predictorAnalysis.lastDigits.slice(0, 20).map((digit, idx) => (
                                                        <span key={idx} className="pattern-digit">{digit}</span>
                                                    ))}
                                                    {predictorAnalysis.lastDigits.length > 20 && (
                                                        <span style={{ padding: '10px', color: '#666' }}>
                                                            ... and {predictorAnalysis.lastDigits.length - 20} more
                                                        </span>
                                                    )}
                                                </div>
                                                <div style={{ marginTop: '15px', fontSize: '0.95rem', color: '#666' }}>
                                                    <strong>Unique digits observed:</strong> {predictorAnalysis.uniqueLastDigits.sort((a, b) => a - b).join(', ')}
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {view === 'bulkPredictor' && (
                        <div>
                            <div className="card bulk-input-container">
                                <h2 className="section-title">Bulk Predictor Analysis</h2>
                                <label className="input-label">Enter Multiple 3-Digit Numbers</label>
                                <textarea
                                    className="bulk-textarea"
                                    value={bulkPredictorInput}
                                    onChange={(e) => setBulkPredictorInput(e.target.value)}
                                    placeholder="Enter 3-digit numbers separated by commas, spaces, or new lines.&#10;Example:&#10;105, 810, 123&#10;456&#10;789, 234, 567"
                                />
                                <p className="input-hint">
                                    üí° Tip: You can paste numbers separated by commas, spaces, or on separate lines.
                                    Only valid 3-digit numbers will be analyzed.
                                </p>
                                <div className="bulk-actions">
                                    <button
                                        className="analyze-btn"
                                        onClick={analyzeBulkPredictorNumbers}
                                        disabled={!bulkPredictorInput || !bulkPredictorInput.trim()}
                                    >
                                        üîç Analyze All Numbers
                                    </button>
                                    <button
                                        className="clear-btn"
                                        onClick={() => {
                                            setBulkPredictorInput('');
                                            setBulkPredictorResults([]);
                                            setExpandedRows(new Set());
                                        }}
                                    >
                                        üóëÔ∏è Clear All
                                    </button>
                                    <button
                                        className="analyze-btn"
                                        onClick={() => {
                                            const numbersList = bulkCheckNumbers.map(n => String(n).padStart(3, '0')).join('\n');
                                            setBulkPredictorInput(numbersList);
                                        }}
                                        style={{
                                            background: '#17a2b8',
                                            color: 'white',
                                            padding: '10px 15px',
                                            border: 'none',
                                            borderRadius: '5px',
                                            cursor: 'pointer',
                                            fontSize: '0.9rem',
                                            fontWeight: '600',
                                            marginRight: '10px'
                                        }}
                                    >
                                        üìã Load All Numbers
                                    </button>
                                    <button
                                        className="analyze-btn"
                                        onClick={() => {
                                            if (!bulkPredictorResults || bulkPredictorResults.length === 0) {
                                                alert("Please click in order from 'Load All Numbers' first, Then 'Analyze All Numbers'. Finally Click the Today's comparison button")
                                                return
                                            }
                                            else setView('jsonComparison')
                                      }}
                                    >
                                        üìã Today's Result Comparison
                                    </button>
                                    {bulkPredictorResults && bulkPredictorResults.length > 0 && (
                                        <button className="export-btn" onClick={exportBulkPredictorResults}>
                                            Export Results (CSV)
                                        </button>
                                    )}
                                    {bulkPredictorResults && bulkPredictorResults.length > 0 && (
                                        <button
                                            className="export-btn"
                                            onClick={exportSuggestedNumbersAsPDF}
                                            style={{
                                                background: '#28a745',
                                                color: 'white'
                                            }}
                                        >
                                            üìÑ Export Suggested Numbers (PDF)
                                        </button>
                                    )}

                                </div>
                            </div>

                            {bulkPredictorResults && bulkPredictorResults.length > 0 && (
                                <div>
                                    <div className="summary-stats">
                                        <div className="summary-card">
                                            <div className="stat-number">{bulkPredictorResults.length}</div>
                                            <div className="stat-label">Numbers Analyzed</div>
                                        </div>
                                        <div className="summary-card">
                                            <div className="stat-number">
                                                {bulkPredictorResults.filter(r => r && r.priority === 'high').length}
                                            </div>
                                            <div className="stat-label">High Priority</div>
                                        </div>
                                        <div className="summary-card">
                                            <div className="stat-number">
                                                {bulkPredictorResults.filter(r => r && r.matchedPattern).length}
                                            </div>
                                            <div className="stat-label">Patterns Detected</div>
                                        </div>
                                        <div className="summary-card">
                                            <div className="stat-number">
                                                {bulkPredictorResults.reduce((sum, r) => sum + (r && r.historyCount ? r.historyCount : 0), 0)}
                                            </div>
                                            <div className="stat-label">Total Matches</div>
                                        </div>
                                    </div>

                                    <div className="card bulk-results-table">
                                        <h2 className="section-title">Prediction Results (Sorted by Priority)</h2>
                                        <div className="table-wrapper">
                                            <table className="results-table">
                                                <thead>
                                                    <tr>
                                                        <th>Priority</th>
                                                        <th>Input</th>
                                                        <th>Suggested Number</th>
                                                        <th>Pattern</th>
                                                        <th>Analysis Reason</th>
                                                        <th>History</th>
                                                        <th>Details</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {bulkPredictorResults.map((result, index) => {
                                                        if (!result) return null;

                                                        return (
                                                            <React.Fragment key={index}>
                                                                <tr data-priority={result.priority}>
                                                                    <td>
                                                                        <span className={`priority-badge priority-${result.priority}`}>
                                                                            {result.priority === 'high' && 'üî• HIGH'}
                                                                            {result.priority === 'medium' && '‚ö° MEDIUM'}
                                                                            {result.priority === 'normal' && 'üí° NORMAL'}
                                                                            {result.priority === 'default' && '‚ÑπÔ∏è DEFAULT'}
                                                                        </span>
                                                                        {result.consecutiveDays && (
                                                                            <span className="consecutive-badge">
                                                                                {result.consecutiveDays}d
                                                                            </span>
                                                                        )}
                                                                        {result.daysAnalyzed && (
                                                                            <span className="days-analyzed-info">
                                                                                {result.daysAnalyzed}d
                                                                            </span>
                                                                        )}
                                                                    </td>
                                                                    <td className="table-input-number">
                                                                        {result.inputNumber || 'N/A'}
                                                                    </td>
                                                                    <td className="table-suggested-number">
                                                                        {result.suggestedNumber || 'N/A'}
                                                                    </td>
                                                                    <td>
                                                                        {result.matchedPattern ? (
                                                                            <div>
                                                                                <span className="table-pattern-badge">
                                                                                    {JSON.stringify(result.matchedPattern)}
                                                                                </span>
                                                                                {result.patternDirection && (
                                                                                    <div style={{ fontSize: '0.75rem', marginTop: '5px', color: '#666' }}>
                                                                                        {result.patternDirection === 'forward' ? '‚û°Ô∏è Forward' : '‚¨ÖÔ∏è Reverse'}
                                                                                    </div>
                                                                                )}
                                                                            </div>
                                                                        ) : (
                                                                            <span className="table-pattern-none">No Pattern</span>
                                                                        )}
                                                                    </td>
                                                                    <td className="table-reason">
                                                                        {result.suggestionReason || 'No reason available'}
                                                                        {result.gaps && result.gaps.length > 0 && (
                                                                            <div style={{ fontSize: '0.75rem', marginTop: '5px', color: '#888' }}>
                                                                                Gaps: {result.gaps.join(', ')} days
                                                                            </div>
                                                                        )}
                                                                        {result.oddGaps && result.oddGaps.length > 0 && (
                                                                            <div style={{ fontSize: '0.75rem', marginTop: '5px', color: '#888' }}>
                                                                                Odd gaps: {result.oddGaps.join(', ')} days
                                                                            </div>
                                                                        )}
                                                                    </td>
                                                                    <td>
                                                                        <span className="table-history-count">
                                                                            {result.historyCount || 0}
                                                                        </span>
                                                                    </td>
                                                                    <td>
                                                                        {result.historyCount > 0 && (
                                                                            <button
                                                                                className="expand-btn"
                                                                                onClick={() => toggleRowExpansion(index)}
                                                                            >
                                                                                {expandedRows.has(index) ? '‚ñ≤ Hide' : '‚ñº Show'}
                                                                            </button>
                                                                        )}
                                                                    </td>
                                                                </tr>
                                                                {expandedRows.has(index) && result.historyCount > 0 && (
                                                                    <tr className="expandable-row">
                                                                        <td colSpan="7">
                                                                            <div className="expandable-content">
                                                                                <h4 style={{
                                                                                    color: '#764ba2',
                                                                                    marginBottom: '15px',
                                                                                    fontSize: '1.1rem',
                                                                                    fontWeight: '700'
                                                                                }}>
                                                                                    üìä Detailed History for {result.inputNumber || 'N/A'}
                                                                                    <span className={`priority-badge priority-${result.priority}`} style={{ marginLeft: '15px' }}>
                                                                                        {result.priority.toUpperCase()}
                                                                                    </span>
                                                                                </h4>

                                                                                {result.uniqueLastDigits && result.uniqueLastDigits.length > 0 && (
                                                                                    <div style={{
                                                                                        background: 'white',
                                                                                        padding: '15px',
                                                                                        borderRadius: '8px',
                                                                                        marginBottom: '15px',
                                                                                        border: '2px solid #667eea'
                                                                                    }}>
                                                                                        <p style={{ marginBottom: '10px', fontWeight: '600' }}>
                                                                                            <strong>Unique Last Digits Observed:</strong>
                                                                                        </p>
                                                                                        <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>
                                                                                            {result.uniqueLastDigits.sort((a, b) => a - b).map((digit, idx) => (
                                                                                                <span key={idx} className="last-digit-badge">
                                                                                                    {digit}
                                                                                                </span>
                                                                                            ))}
                                                                                        </div>
                                                                                        {result.matchedPattern && (
                                                                                            <div style={{ marginTop: '10px', fontSize: '0.9rem', color: '#666' }}>
                                                                                                <strong>Pattern:</strong> {JSON.stringify(result.matchedPattern)}
                                                                                                {result.patternDirection && (
                                                                                                    <span style={{ marginLeft: '10px' }}>
                                                                                                        ({result.patternDirection === 'forward' ? '‚û°Ô∏è Forward' : '‚¨ÖÔ∏è Reverse'})
                                                                                                    </span>
                                                                                                )}
                                                                                            </div>
                                                                                        )}
                                                                                    </div>
                                                                                )}

                                                                                {result.history && result.history.length > 0 && (
                                                                                    <table className="mini-history-table">
                                                                                        <thead>
                                                                                            <tr>
                                                                                                <th>Date</th>
                                                                                                <th>Number</th>
                                                                                                <th>Last Digit</th>
                                                                                                <th>Prize Slot</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            {result.history.map((hist, hIndex) => {
                                                                                                if (!hist) return null;

                                                                                                return (
                                                                                                    <tr key={hIndex}>
                                                                                                        <td>{hist.date || 'N/A'}</td>
                                                                                                        <td style={{
                                                                                                            fontWeight: '700',
                                                                                                            color: '#764ba2',
                                                                                                            fontSize: '1rem'
                                                                                                        }}>
                                                                                                            {hist.number || 'N/A'}
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <span className="last-digit-badge">
                                                                                                                {hist.lastDigit !== null && hist.lastDigit !== undefined ? hist.lastDigit : '-'}
                                                                                                            </span>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <span style={{
                                                                                                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                                                                color: 'white',
                                                                                                                padding: '4px 10px',
                                                                                                                borderRadius: '5px',
                                                                                                                fontSize: '0.85rem',
                                                                                                                fontWeight: '600'
                                                                                                            }}>
                                                                                                                ‚Çπ{hist.slot || 'N/A'}
                                                                                                            </span>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                );
                                                                                            })}
                                                                                        </tbody>
                                                                                    </table>
                                                                                )}

                                                                                {result.historyCount > 10 && (
                                                                                    <p style={{
                                                                                        textAlign: 'center',
                                                                                        marginTop: '15px',
                                                                                        color: '#666',
                                                                                        fontSize: '0.9rem',
                                                                                        fontStyle: 'italic'
                                                                                    }}>
                                                                                        Showing 10 most recent results out of {result.historyCount} total matches
                                                                                    </p>
                                                                                )}
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                )}
                                                            </React.Fragment>
                                                        );
                                                    })}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {bulkPredictorInput && bulkPredictorInput.trim() && (!bulkPredictorResults || bulkPredictorResults.length === 0) && (
                                <div className="card">
                                    <div className="no-results">
                                        <p>Click "Analyze All Numbers" to see predictions for your numbers</p>
                                    </div>
                                </div>
                            )}

                        </div>
                    )}

                    {view === "jsonComparison" && bulkPredictorResults && bulkPredictorResults.length > 0 &&
                        <div>
                            <label style={{ display: 'block', marginBottom: '10px', fontWeight: '600', color: '#333', fontSize: '1.1rem' }}>
                                Paste Your Lottery Result (JSON):
                            </label>
                            <textarea
                                className="json-textarea"
                                value={jsonInput}
                                onChange={(e) => setJsonInput(e.target.value)}
                                placeholder="Paste JSON data of Today's Result here."
                            />

                            <div className="button-group">
                                <button className="btn btn-primary" onClick={handleAnalyze}>
                                    ‚úì Analyze & Compare
                                </button>
                                <button className="btn btn-secondary" onClick={() => {
                                    setJsonInput('');
                                    setResult(null);
                                    setError('');
                                }}>
                                    üóëÔ∏è Clear
                                </button>
                            </div>

                            {error && <div className="error-msg">{error}</div>}

                            {result && (
                                <div className="success-msg">
                                    ‚úÖ Analysis Complete | Total Numbers: <strong>{result.totalNumbers}</strong> | Common Matches: <strong>{result.matchedCount}</strong> | Match Rate: <strong>{result.matchPercentage}%</strong>
                                </div>
                            )}

                            {result && (
                                <div className="results-section">
                                    <h2>üìä Results</h2>

                                    <div className="stats-grid">
                                        <div className="stat-box">
                                            <div className="stat-label">Total Numbers Found</div>
                                            <div className="stat-value">{result.totalNumbers}</div>
                                        </div>
                                        <div className="stat-box">
                                            <div className="stat-label">‚úì Common Matches</div>
                                            <div className="stat-value" style={{ color: '#27ae60' }}>{result.matchedCount}</div>
                                        </div>
                                        <div className="stat-box">
                                            <div className="stat-label">‚úó Not in Database</div>
                                            <div className="stat-value" style={{ color: '#e74c3c' }}>{result.notMatchedCount}</div>
                                        </div>
                                        <div className="stat-box">
                                            <div className="stat-label">Match Percentage</div>
                                            <div className="stat-value" style={{ color: '#f39c12' }}>{result.matchPercentage}%</div>
                                        </div>
                                    </div>

                                    <div className="results-container">
                                        <div className="numbers-display">
                                            <h3>‚úì Common Numbers Found ({result.matchedCount})</h3>
                                            {result.matched.length > 0 ? (
                                                <div className="matched-grid">
                                                    {result.matched.map((num, idx) => (
                                                        <div key={idx} className="matched-num">{num}</div>
                                                    ))}
                                                </div>
                                            ) : (
                                                <div className="no-results">No common numbers found</div>
                                            )}
                                        </div>

                                        <div className="numbers-display">
                                            <h3>‚úó Not in Database ({result.notMatchedCount})</h3>
                                            {result.notMatched.length > 0 ? (
                                                <div className="matched-grid">
                                                    {result.notMatched.map((num, idx) => (
                                                        <div key={idx} className="not-matched-num">{num}</div>
                                                    ))}
                                                </div>
                                            ) : (
                                                <div className="no-results">All numbers match the Suggested Numbers!</div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    }
                    {view === 'twoDigitAnalysis' && (
                        <div>
                            <div className="card">
                                <h2 className="section-title">Two Digit Pattern Analysis (Last 16 Days)</h2>
                                <label className="input-label">Enter 2-Digit Prefix</label>
                                <input
                                    type="text"
                                    value={twoDigitInput}
                                    onChange={(e) => {
                                        const val = e.target.value.replace(/\D/g, '');
                                        setTwoDigitInput(val.slice(0, 2));
                                    }}
                                    placeholder="e.g., 81, 12, 45"
                                    className="search-input"
                                    maxLength={2}
                                />
                                <p className="range-info">
                                    Searching for numbers starting with: {twoDigitInput || '__'}
                                </p>
                            </div>

                            {twoDigitInput.length === 2 && twoDigitAnalysisResult && (
                                <div>
                                    {!twoDigitAnalysisResult.found ? (
                                        <div className="card">
                                            <div className="no-results">
                                                <p>{twoDigitAnalysisResult.message}</p>
                                            </div>
                                        </div>
                                    ) : (
                                        <div>
                                            {/* Summary Card */}
                                            <div className="card" style={{
                                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                color: 'white',
                                                padding: '30px'
                                            }}>
                                                <h2 style={{ marginBottom: '20px', fontSize: '1.8rem' }}>
                                                    Analysis for "{twoDigitInput}__"
                                                </h2>
                                                <div style={{
                                                    display: 'grid',
                                                    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',
                                                    gap: '20px'
                                                }}>
                                                    <div style={{
                                                        background: 'rgba(255,255,255,0.2)',
                                                        padding: '15px',
                                                        borderRadius: '8px'
                                                    }}>
                                                        <div style={{ fontSize: '0.9rem', opacity: 0.9 }}>Total Occurrences</div>
                                                        <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>
                                                            {twoDigitAnalysisResult.totalOccurrences}
                                                        </div>
                                                    </div>
                                                    <div style={{
                                                        background: 'rgba(255,255,255,0.2)',
                                                        padding: '15px',
                                                        borderRadius: '8px'
                                                    }}>
                                                        <div style={{ fontSize: '0.9rem', opacity: 0.9 }}>Unique Dates</div>
                                                        <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>
                                                            {twoDigitAnalysisResult.uniqueDatesCount}
                                                        </div>
                                                    </div>
                                                    <div style={{
                                                        background: 'rgba(255,255,255,0.2)',
                                                        padding: '15px',
                                                        borderRadius: '8px'
                                                    }}>
                                                        <div style={{ fontSize: '0.9rem', opacity: 0.9 }}>Avg Gap (Days)</div>
                                                        <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>
                                                            {twoDigitAnalysisResult.averageGap}
                                                        </div>
                                                    </div>
                                                    <div style={{
                                                        background: 'rgba(255,255,255,0.2)',
                                                        padding: '15px',
                                                        borderRadius: '8px'
                                                    }}>
                                                        <div style={{ fontSize: '0.9rem', opacity: 0.9 }}>Predicted Next</div>
                                                        <div style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>
                                                            {twoDigitAnalysisResult.predictedNextDate}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            {/* Date Gaps Analysis */}
                                            {twoDigitAnalysisResult.dateGaps.length > 0 && (
                                                <div className="card">
                                                    <h2 className="section-title">üìä Gap Analysis Between Occurrences</h2>
                                                    <div style={{
                                                        overflowX: 'auto'
                                                    }}>
                                                        <table style={{
                                                            width: '100%',
                                                            borderCollapse: 'collapse',
                                                            fontSize: '0.95rem'
                                                        }}>
                                                            <thead>
                                                                <tr style={{
                                                                    background: '#f0f0f0',
                                                                    borderBottom: '2px solid #667eea'
                                                                }}>
                                                                    <th style={{
                                                                        padding: '12px',
                                                                        textAlign: 'left',
                                                                        fontWeight: 'bold',
                                                                        color: '#667eea'
                                                                    }}>From Date</th>
                                                                    <th style={{
                                                                        padding: '12px',
                                                                        textAlign: 'left',
                                                                        fontWeight: 'bold',
                                                                        color: '#667eea'
                                                                    }}>To Date</th>
                                                                    <th style={{
                                                                        padding: '12px',
                                                                        textAlign: 'center',
                                                                        fontWeight: 'bold',
                                                                        color: '#667eea'
                                                                    }}>Gap (Days)</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                {twoDigitAnalysisResult.dateGaps.map((gap, idx) => (
                                                                    <tr key={idx} style={{
                                                                        borderBottom: '1px solid #eee',
                                                                        background: idx % 2 === 0 ? '#fafafa' : 'white'
                                                                    }}>
                                                                        <td style={{ padding: '12px' }}>
                                                                            <strong>{gap.fromDate}</strong>
                                                                        </td>
                                                                        <td style={{ padding: '12px' }}>
                                                                            <strong>{gap.toDate}</strong>
                                                                        </td>
                                                                        <td style={{
                                                                            padding: '12px',
                                                                            textAlign: 'center',
                                                                            background: gap.gap === twoDigitAnalysisResult.averageGap
                                                                                ? '#ffe6e6'
                                                                                : 'transparent',
                                                                            borderRadius: '4px',
                                                                            fontWeight: 'bold',
                                                                            color: gap.gap === twoDigitAnalysisResult.averageGap
                                                                                ? '#d32f2f'
                                                                                : '#333'
                                                                        }}>
                                                                            {gap.gap}
                                                                        </td>
                                                                    </tr>
                                                                ))}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            )}

                                            {/* All Occurrences */}
                                            <div className="card">
                                                <h2 className="section-title">üìã All Occurrences in Last 16 Days</h2>
                                                <button
                                                    onClick={() => setShowTwoDigitDetails(!showTwoDigitDetails)}
                                                    style={{
                                                        padding: '10px 20px',
                                                        background: '#667eea',
                                                        color: 'white',
                                                        border: 'none',
                                                        borderRadius: '5px',
                                                        cursor: 'pointer',
                                                        marginBottom: '15px',
                                                        fontSize: '0.95rem'
                                                    }}
                                                >
                                                    {showTwoDigitDetails ? '‚ñ≤ Hide Details' : '‚ñº Show Details'}
                                                </button>

                                                {showTwoDigitDetails && (
                                                    <div style={{
                                                        overflowX: 'auto'
                                                    }}>
                                                        <table style={{
                                                            width: '100%',
                                                            borderCollapse: 'collapse',
                                                            fontSize: '0.9rem'
                                                        }}>
                                                            <thead>
                                                                <tr style={{
                                                                    background: '#f0f0f0',
                                                                    borderBottom: '2px solid #667eea'
                                                                }}>
                                                                    <th style={{
                                                                        padding: '10px',
                                                                        textAlign: 'left',
                                                                        fontWeight: 'bold',
                                                                        color: '#667eea'
                                                                    }}>Date</th>
                                                                    <th style={{
                                                                        padding: '10px',
                                                                        textAlign: 'left',
                                                                        fontWeight: 'bold',
                                                                        color: '#667eea'
                                                                    }}>Number</th>
                                                                    <th style={{
                                                                        padding: '10px',
                                                                        textAlign: 'left',
                                                                        fontWeight: 'bold',
                                                                        color: '#667eea'
                                                                    }}>Prize Slot</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                {twoDigitAnalysisResult.occurrences.map((occ, idx) => (
                                                                    <tr key={idx} style={{
                                                                        borderBottom: '1px solid #eee',
                                                                        background: idx % 2 === 0 ? '#fafafa' : 'white'
                                                                    }}>
                                                                        <td style={{ padding: '10px' }}>
                                                                            <strong>{occ.date}</strong>
                                                                        </td>
                                                                        <td style={{
                                                                            padding: '10px',
                                                                            fontWeight: 'bold',
                                                                            color: '#764ba2',
                                                                            fontSize: '1.1rem'
                                                                        }}>
                                                                            {occ.number}
                                                                        </td>
                                                                        <td style={{
                                                                            padding: '10px',
                                                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                                            color: 'white',
                                                                            borderRadius: '4px',
                                                                            fontWeight: '600'
                                                                        }}>
                                                                            ‚Çπ{occ.slot}
                                                                        </td>
                                                                    </tr>
                                                                ))}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                    )}
                </div >
            );
        };

        ReactDOM.render(<LotteryPatternAnalyzer />, document.getElementById('root'));
    </script>
</body>

</html>